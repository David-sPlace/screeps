{"code":"var roleHarvester = {\r\n    /** @param {Creep} creep **/\r\n    default_run: function (creep) {\r\n        var memory = creep.memory;\r\n        if (creep.carry.energy < creep.carryCapacity) {\r\n            var sources = creep.room.find(FIND_SOURCES);\r\n            if (creep.harvest(sources[0]) == ERR_NOT_IN_RANGE && memory.gathering == false) {\r\n                memory.moving = true;\r\n                creep.moveTo(sources[0], { visualizePathStyle: { stroke: '#ffaa00' } });\r\n            }\r\n            else {\r\n                memory.moving = false;\r\n                memory.gathering = true;\r\n            }\r\n        }\r\n        else {\r\n            memory.gathering = false;\r\n            var targets = creep.room.find(FIND_STRUCTURES, {\r\n                filter: function (structure) {\r\n                    return (structure.structureType == STRUCTURE_EXTENSION || structure.structureType == STRUCTURE_SPAWN);\r\n                }\r\n            });\r\n            if (targets.length > 0) {\r\n                if (creep.transfer(targets[0], RESOURCE_ENERGY) == ERR_NOT_IN_RANGE) {\r\n                    creep.moveTo(targets[0], { visualizePathStyle: { stroke: '#ffffff' } });\r\n                    memory.moving = true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\nvar roleUpgrader = {\r\n    /** @param {Creep} creep **/\r\n    default_run: function (creep) {\r\n        var memory = creep.memory;\r\n        if (memory.isUpgradingController && creep.carry.energy == 0) {\r\n            memory.isUpgradingController = false;\r\n            creep.say('ðŸ”„ harvest');\r\n        }\r\n        if (!memory.isUpgradingController && creep.carry.energy == creep.carryCapacity) {\r\n            memory.isUpgradingController = true;\r\n            creep.say('ðŸš§ upgrade');\r\n        }\r\n        if (memory.isUpgradingController) {\r\n            var controller = creep.room.controller;\r\n            if (creep.upgradeController(controller) == ERR_NOT_IN_RANGE) {\r\n                creep.moveTo(controller, { visualizePathStyle: { stroke: '#ffffff' } });\r\n            }\r\n        }\r\n        else {\r\n            var sources = creep.room.find(FIND_SOURCES);\r\n            if (creep.harvest(sources[0]) == ERR_NOT_IN_RANGE) {\r\n                creep.moveTo(sources[0], { visualizePathStyle: { stroke: '#ffaa00' } });\r\n            }\r\n        }\r\n    }\r\n};\r\nexport { roleUpgrader, roleHarvester };\r\n//# sourceMappingURL=role_harvester.js.map","map":{"version":3,"file":"role_harvester.js","sourceRoot":"","sources":["../src/roles/role_harvester.ts"],"names":[],"mappings":"AAEA,IAAI,aAAa,GAAG;IAEnB,4BAA4B;IAC5B,WAAW,EAAE,UAAU,KAAY;QAElC,IAAI,MAAM,GAAG,KAAK,CAAC,MAAqB,CAAC;QACzC,IAAI,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC,aAAa,EAC5C;YACC,IAAI,OAAO,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;YAE5C,IAAI,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,gBAAgB,IAAI,MAAM,CAAC,SAAS,IAAI,KAAK,EAC9E;gBACC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC;gBACrB,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE,kBAAkB,EAAE,EAAE,MAAM,EAAE,SAAS,EAAE,EAAE,CAAC,CAAC;aACxE;iBACG;gBACH,MAAM,CAAC,MAAM,GAAG,KAAK,CAAC;gBACtB,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC;aACxB;SACD;aAED;YACC,MAAM,CAAC,SAAS,GAAG,KAAK,CAAC;YAEzB,IAAI,OAAO,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE;gBAC9C,MAAM,EAAE,UAAC,SAAS;oBAEjB,OAAO,CAAC,SAAS,CAAC,aAAa,IAAI,mBAAmB,IAAI,SAAS,CAAC,aAAa,IAAI,eAAe,CAAC,CAAC;gBACvG,CAAC;aACD,CAAC,CAAC;YACH,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EACtB;gBACC,IAAI,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,eAAe,CAAC,IAAI,gBAAgB,EACnE;oBACC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE,kBAAkB,EAAE,EAAE,MAAM,EAAE,SAAS,EAAE,EAAE,CAAC,CAAC;oBACxE,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC;iBACrB;aACD;SACD;IACF,CAAC;CACD,CAAC;AAGF,IAAI,YAAY,GAAG;IAElB,4BAA4B;IAC5B,WAAW,EAAE,UAAU,KAAY;QAGlC,IAAI,MAAM,GAAG,KAAK,CAAC,MAAqB,CAAC;QACzC,IAAI,MAAM,CAAC,qBAAqB,IAAI,KAAK,CAAC,KAAK,CAAC,MAAM,IAAI,CAAC,EAC3D;YACC,MAAM,CAAC,qBAAqB,GAAG,KAAK,CAAC;YACrC,KAAK,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;SACxB;QACD,IAAI,CAAC,MAAM,CAAC,qBAAqB,IAAI,KAAK,CAAC,KAAK,CAAC,MAAM,IAAI,KAAK,CAAC,aAAa,EAC9E;YACC,MAAM,CAAC,qBAAqB,GAAG,IAAI,CAAC;YACpC,KAAK,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;SACxB;QAED,IAAI,MAAM,CAAC,qBAAqB,EAChC;YACC,IAAI,UAAU,GAAG,KAAK,CAAC,IAAI,CAAC,UAAiC,CAAC;YAC9D,IAAI,KAAK,CAAC,iBAAiB,CAAC,UAAU,CAAC,IAAI,gBAAgB,EAC3D;gBACC,KAAK,CAAC,MAAM,CAAC,UAAU,EAAE,EAAE,kBAAkB,EAAE,EAAE,MAAM,EAAE,SAAS,EAAE,EAAE,CAAC,CAAC;aACxE;SACD;aAED;YACC,IAAI,OAAO,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;YAC5C,IAAI,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,gBAAgB,EACjD;gBACC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE,kBAAkB,EAAE,EAAE,MAAM,EAAE,SAAS,EAAE,EAAE,CAAC,CAAC;aACxE;SACD;IACF,CAAC;CACD,CAAC;AAEF,OAAO,EAAE,YAAY,EAAE,aAAa,EAAE,CAAC"}}
