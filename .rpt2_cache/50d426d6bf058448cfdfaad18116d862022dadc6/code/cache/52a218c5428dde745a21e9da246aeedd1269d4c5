{"code":"import * as tslib_1 from \"tslib\";\r\nimport { WorkerTask } from \"abstract/workerTask\";\r\nvar RestockTask = /** @class */ (function (_super) {\r\n    tslib_1.__extends(RestockTask, _super);\r\n    function RestockTask(roomID, controller) {\r\n        var _this = _super.call(this, roomID) || this;\r\n        _this.maxConcurrentCount = 3;\r\n        _this.name = \"Restock!\";\r\n        _this.wingDing = \"\\u26A1\";\r\n        _this._controller = controller;\r\n        return _this;\r\n    }\r\n    RestockTask.prototype.doWork = function (creepID, context) {\r\n        var creep = Game.getObjectById(creepID);\r\n        var targets = creep.room.find(FIND_STRUCTURES, {\r\n            filter: function (structure) {\r\n                return (structure.structureType == STRUCTURE_EXTENSION || structure.structureType == STRUCTURE_SPAWN) &&\r\n                    structure.energy < structure.energyCapacity;\r\n            }\r\n        });\r\n        if (targets.length > 0) {\r\n            if (creep.transfer(targets[0], RESOURCE_ENERGY) == ERR_NOT_IN_RANGE) {\r\n                creep.moveTo(targets[0], { visualizePathStyle: { stroke: '#ffffff' } });\r\n            }\r\n        }\r\n        else {\r\n            this.finish(creepID, context);\r\n        }\r\n    };\r\n    return RestockTask;\r\n}(WorkerTask));\r\nexport { RestockTask };\r\n//# sourceMappingURL=RestockTask.js.map","map":{"version":3,"file":"RestockTask.js","sourceRoot":"","sources":["../src/tasks/RestockTask.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,qBAAqB,CAAC;AAEjD;IAAiC,uCAAU;IAM1C,qBAAY,MAAc,EAAE,UAA+B;QAA3D,YAEC,kBAAM,MAAM,CAAC,SAEb;QAPD,wBAAkB,GAAW,CAAC,CAAC;QAC/B,UAAI,GAAW,UAAU,CAAC;QAC1B,cAAQ,GAAW,QAAG,CAAA;QAIrB,KAAI,CAAC,WAAW,GAAG,UAAU,CAAC;;IAC/B,CAAC;IAED,4BAAM,GAAN,UAAO,OAAe,EAAE,OAAY;QAEnC,IAAI,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAU,CAAC;QAEjD,IAAI,OAAO,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE;YAC9C,MAAM,EAAE,UAAC,SAAS;gBAEjB,OAAO,CAAC,SAAS,CAAC,aAAa,IAAI,mBAAmB,IAAI,SAAS,CAAC,aAAa,IAAI,eAAe,CAAC;oBACpG,SAAS,CAAC,MAAM,GAAG,SAAS,CAAC,cAAc,CAAC;YAC9C,CAAC;SACD,CAAC,CAAC;QACH,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EACtB;YACC,IAAI,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,eAAe,CAAC,IAAI,gBAAgB,EACnE;gBACC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE,kBAAkB,EAAE,EAAE,MAAM,EAAE,SAAS,EAAE,EAAE,CAAC,CAAC;aACxE;SACD;aAED;YACC,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,OAAO,CAAC,CAAA;SAC7B;IACF,CAAC;IACF,kBAAC;AAAD,CAAC,AAnCD,CAAiC,UAAU,GAmC1C"}}
