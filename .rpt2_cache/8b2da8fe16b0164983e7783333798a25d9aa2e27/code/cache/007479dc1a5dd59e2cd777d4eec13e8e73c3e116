{"code":"import * as tslib_1 from \"tslib\";\r\nimport { WorkerTask, WorkerTaskDTO } from \"abstract/WorkerTask\";\r\nvar UpgradeTaskDTO = /** @class */ (function (_super) {\r\n    tslib_1.__extends(UpgradeTaskDTO, _super);\r\n    function UpgradeTaskDTO(roomName, controllerID) {\r\n        var _this = _super.call(this, roomName) || this;\r\n        _this.wingDing = \"\\uD83C\\uDF87\";\r\n        _this.name = \"Upgrade\";\r\n        _this.maxConcurrentCount = 8;\r\n        _this.controllerID = controllerID;\r\n        return _this;\r\n    }\r\n    return UpgradeTaskDTO;\r\n}(WorkerTaskDTO));\r\nexport { UpgradeTaskDTO };\r\nvar UpgradeTask = /** @class */ (function (_super) {\r\n    tslib_1.__extends(UpgradeTask, _super);\r\n    function UpgradeTask(taskInfo) {\r\n        var _this = _super.call(this, taskInfo) || this;\r\n        _this.taskInfo = taskInfo;\r\n        return _this;\r\n    }\r\n    UpgradeTask.prototype.doWork = function (creepID, context) {\r\n        var controller = Game.getObjectById(this.taskInfo.controllerID);\r\n        var creep = Game.getObjectById(creepID);\r\n        if (creep.upgradeController(controller) == ERR_NOT_IN_RANGE && creep.carry.energy > 0) {\r\n            creep.moveTo(controller, { visualizePathStyle: { stroke: '#ffffff' } });\r\n        }\r\n        else {\r\n            console.log(\"a creep finished upgrading!\");\r\n            this.taskInfo.finished = true;\r\n        }\r\n    };\r\n    return UpgradeTask;\r\n}(WorkerTask));\r\nexport { UpgradeTask };\r\n//# sourceMappingURL=UpgradeTask.js.map","map":{"version":3,"file":"UpgradeTask.js","sourceRoot":"","sources":["../src/tasks/UpgradeTask.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,UAAU,EAAE,aAAa,EAAE,MAAM,qBAAqB,CAAA;AAE/D;IAAoC,0CAAa;IAMhD,wBAAY,QAAgB,EAAE,YAAoB;QAAlD,YACC,kBAAM,QAAQ,CAAC,SAEf;QAPD,cAAQ,GAAG,cAAI,CAAC;QAChB,UAAI,GAAG,SAAS,CAAC;QACjB,wBAAkB,GAAG,CAAC,CAAC;QAItB,KAAI,CAAC,YAAY,GAAG,YAAY,CAAC;;IAClC,CAAC;IACF,qBAAC;AAAD,CAAC,AAVD,CAAoC,aAAa,GAUhD;;AAED;IAAiC,uCAAU;IAG1C,qBAAY,QAAwB;QAApC,YACC,kBAAM,QAAyB,CAAC,SAEhC;QADA,KAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;;IAC1B,CAAC;IACD,4BAAM,GAAN,UAAO,OAAe,EAAE,OAAY;QAEnC,IAAI,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAwB,CAAC;QACvF,IAAI,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAU,CAAC;QAEjD,IAAI,KAAK,CAAC,iBAAiB,CAAC,UAAU,CAAC,IAAI,gBAAgB,IAAI,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EACrF;YACC,KAAK,CAAC,MAAM,CAAC,UAAU,EAAE,EAAE,kBAAkB,EAAE,EAAE,MAAM,EAAE,SAAS,EAAE,EAAE,CAAC,CAAC;SACxE;aAED;YACC,OAAO,CAAC,GAAG,CAAC,6BAA6B,CAAC,CAAC;YAC3C,IAAI,CAAC,QAAQ,CAAC,QAAQ,GAAG,IAAI,CAAC;SAC9B;IACF,CAAC;IAEF,kBAAC;AAAD,CAAC,AAvBD,CAAiC,UAAU,GAuB1C"}}
