{"code":"import { Queue } from \"utils/queue\";\r\nvar TaskQueue = /** @class */ (function () {\r\n    function TaskQueue() {\r\n        this._waitingTasks = new Queue();\r\n        this._runningTasks = [];\r\n    }\r\n    TaskQueue.prototype.all = function () {\r\n        return this._waitingTasks.toArray().concat(this._runningTasks);\r\n    };\r\n    TaskQueue.prototype.clear = function () {\r\n        this._waitingTasks.clear();\r\n        this._runningTasks = [];\r\n    };\r\n    TaskQueue.prototype.existingTaskCount = function (name) {\r\n        return this.runningCount(name) + this.waitingCount(name);\r\n    };\r\n    TaskQueue.prototype.runningCount = function (name) {\r\n        if (name === void 0) { name = \"\"; }\r\n        var count = 0;\r\n        for (var value in this._runningTasks) {\r\n            var task = this._runningTasks[value];\r\n            if (task.taskInfo.name == name || name == \"\")\r\n                count++;\r\n        }\r\n        return count;\r\n    };\r\n    TaskQueue.prototype.waitingCount = function (name) {\r\n        if (name === void 0) { name = \"\"; }\r\n        var count = 0;\r\n        var waiting = this._waitingTasks.toArray();\r\n        for (var value in waiting) {\r\n            var task = waiting[value];\r\n            if (task.taskInfo.name == name || name == \"\") {\r\n                count++;\r\n            }\r\n        }\r\n        return count;\r\n    };\r\n    TaskQueue.prototype.totalCount = function () {\r\n        return this.waitingCount() + this.runningCount();\r\n    };\r\n    TaskQueue.prototype.addExisting = function (task) {\r\n        this._runningTasks.push(task);\r\n    };\r\n    TaskQueue.prototype.addNewTask = function (task) {\r\n        if (task == undefined || task == null)\r\n            return;\r\n        this._waitingTasks.push(task);\r\n    };\r\n    TaskQueue.prototype.runningTasks = function () {\r\n        return this._runningTasks;\r\n    };\r\n    TaskQueue.prototype.waitingTasks = function () {\r\n        return this._waitingTasks.toArray();\r\n    };\r\n    TaskQueue.prototype.any = function () {\r\n        return this._waitingTasks.any();\r\n    };\r\n    TaskQueue.prototype.remove = function (task) {\r\n        this._runningTasks = this._runningTasks.filter(function (obj) { return obj !== task; });\r\n    };\r\n    return TaskQueue;\r\n}());\r\nexport { TaskQueue };\r\n//# sourceMappingURL=TaskQueue.js.map","map":{"version":3,"file":"TaskQueue.js","sourceRoot":"","sources":["../src/utils/TaskQueue.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,KAAK,EAAE,MAAM,aAAa,CAAC;AAGpC;IAAA;QAES,kBAAa,GAAa,IAAI,KAAK,EAAK,CAAC;QACzC,kBAAa,GAAQ,EAAE,CAAC;IAyEjC,CAAC;IAvEA,uBAAG,GAAH;QAEC,OAAO,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;IAChE,CAAC;IACD,yBAAK,GAAL;QAEC,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;QAC3B,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;IACzB,CAAC;IACD,qCAAiB,GAAjB,UAAkB,IAAY;QAE7B,OAAO,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;IAC1D,CAAC;IACD,gCAAY,GAAZ,UAAa,IAAiB;QAAjB,qBAAA,EAAA,SAAiB;QAE7B,IAAI,KAAK,GAAW,CAAC,CAAC;QACtB,KAAK,IAAM,KAAK,IAAI,IAAI,CAAC,aAAa,EACtC;YACC,IAAI,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YACrC,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,EAAE;gBAAE,KAAK,EAAE,CAAC;SACtD;QACD,OAAO,KAAK,CAAC;IACd,CAAC;IAED,gCAAY,GAAZ,UAAa,IAAiB;QAAjB,qBAAA,EAAA,SAAiB;QAE7B,IAAI,KAAK,GAAW,CAAC,CAAC;QACtB,IAAI,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,CAAC;QAE3C,KAAK,IAAM,KAAK,IAAI,OAAO,EAC3B;YACC,IAAI,IAAI,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC;YAC1B,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,EAAE,EAC5C;gBACC,KAAK,EAAE,CAAC;aACR;SACD;QACD,OAAO,KAAK,CAAC;IACd,CAAC;IACD,8BAAU,GAAV;QAEC,OAAO,IAAI,CAAC,YAAY,EAAE,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;IAClD,CAAC;IACD,+BAAW,GAAX,UAAY,IAAO;QAElB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC/B,CAAC;IACD,8BAAU,GAAV,UAAW,IAAM;QAEhB,IAAI,IAAI,IAAI,SAAS,IAAI,IAAI,IAAI,IAAI;YAAE,OAAO;QAE9C,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC/B,CAAC;IAED,gCAAY,GAAZ;QAEC,OAAO,IAAI,CAAC,aAAa,CAAC;IAC3B,CAAC;IACD,gCAAY,GAAZ;QAEC,OAAO,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,CAAC;IACrC,CAAC;IACD,uBAAG,GAAH;QAEC,OAAO,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE,CAAC;IACjC,CAAC;IACD,0BAAM,GAAN,UAAO,IAAO;QAEb,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,UAAA,GAAG,IAAI,OAAA,GAAG,KAAK,IAAI,EAAZ,CAAY,CAAC,CAAC;IACrE,CAAC;IAEF,gBAAC;AAAD,CAAC,AA5ED,IA4EC"}}
