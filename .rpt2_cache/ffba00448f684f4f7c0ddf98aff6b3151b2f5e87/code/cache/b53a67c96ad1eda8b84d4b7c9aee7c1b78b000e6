{"code":"import { m } from \"utils/memory\";\r\nexport var CantBuildReasons;\r\n(function (CantBuildReasons) {\r\n    CantBuildReasons[CantBuildReasons[\"NotTheOwner\"] = -1] = \"NotTheOwner\";\r\n    CantBuildReasons[CantBuildReasons[\"NameAlreadyExists\"] = -3] = \"NameAlreadyExists\";\r\n    CantBuildReasons[CantBuildReasons[\"BuildingBusy\"] = -4] = \"BuildingBusy\";\r\n    CantBuildReasons[CantBuildReasons[\"NotEnoughEnergy\"] = -6] = \"NotEnoughEnergy\";\r\n    CantBuildReasons[CantBuildReasons[\"InvalidArguments\"] = -10] = \"InvalidArguments\";\r\n    CantBuildReasons[CantBuildReasons[\"RCLNotHighEnough\"] = -14] = \"RCLNotHighEnough\";\r\n})(CantBuildReasons || (CantBuildReasons = {}));\r\nexport function sendCreepsHome(roomName, creeps) {\r\n    var spawn = findStructureSpawns(roomName)[0];\r\n    console.log(\"There are \" + creeps.length + \" idle creeps.\");\r\n    for (var _i = 0, creeps_1 = creeps; _i < creeps_1.length; _i++) {\r\n        var creep = creeps_1[_i];\r\n        var mem = creep.memory;\r\n        if (mem.idle)\r\n            creep.moveTo(spawn);\r\n    }\r\n}\r\nexport function findStructureSpawns(roomName, onlyNonSpawning) {\r\n    if (onlyNonSpawning === void 0) { onlyNonSpawning = true; }\r\n    var room = Game.rooms[roomName];\r\n    return room.find(FIND_MY_STRUCTURES, {\r\n        filter: function (structure) {\r\n            if (structure.structureType == STRUCTURE_SPAWN) {\r\n                var spawner = structure;\r\n                m().spawns[spawner.id] = spawner;\r\n                return onlyNonSpawning ? spawner.spawning === null : true;\r\n            }\r\n            return false;\r\n        }\r\n    });\r\n}\r\nexport function findIdleCreeps(roomName) {\r\n    return Game.rooms[roomName].find(FIND_MY_CREEPS, {\r\n        filter: function (creep) {\r\n            return creep.memory.idle;\r\n        }\r\n    });\r\n}\r\nexport function getRestockables(roomName) {\r\n    var room = Game.rooms[roomName];\r\n    return room.find(FIND_STRUCTURES, {\r\n        filter: function (structure) {\r\n            return (structure.structureType == STRUCTURE_EXTENSION || structure.structureType == STRUCTURE_SPAWN) &&\r\n                structure.energy < structure.energyCapacity;\r\n        }\r\n    });\r\n}\r\nexport function errorToString(job) {\r\n    switch (job) {\r\n        case CantBuildReasons.NotTheOwner: return \"You don't own this building...?\";\r\n        case CantBuildReasons.NameAlreadyExists: return \"Name already exists...\";\r\n        case CantBuildReasons.BuildingBusy: return \"Name already exists...\";\r\n        case CantBuildReasons.NotEnoughEnergy: return \"You can't afford it!\";\r\n        case CantBuildReasons.InvalidArguments: return \"Invalid arguments passed to spawnCreep\";\r\n        case CantBuildReasons.RCLNotHighEnough: return \"Your RCL level is not high enough\";\r\n        default: return \"unknown error\";\r\n    }\r\n}\r\n//# sourceMappingURL=utils.js.map","map":{"version":3,"file":"utils.js","sourceRoot":"","sources":["../src/utils/utils.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,CAAC,EAAuC,MAAM,cAAc,CAAC;AACtE,MAAM,CAAN,IAAY,gBASX;AATD,WAAY,gBAAgB;IAE3B,sEAAgB,CAAA;IAChB,kFAAsB,CAAA;IACtB,wEAAiB,CAAA;IACjB,8EAAoB,CAAA;IACpB,iFAAsB,CAAA;IACtB,iFAAsB,CAAA;AAEvB,CAAC,EATW,gBAAgB,KAAhB,gBAAgB,QAS3B;AACD,MAAM,yBAAyB,QAAgB,EAAE,MAAe;IAE/D,IAAI,KAAK,GAAG,mBAAmB,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;IAE7C,OAAO,CAAC,GAAG,CAAC,eAAa,MAAM,CAAC,MAAM,kBAAe,CAAC,CAAA;IACtD,KAAoB,UAAM,EAAN,iBAAM,EAAN,oBAAM,EAAN,IAAM,EAC1B;QADK,IAAM,KAAK,eAAA;QAEf,IAAI,GAAG,GAAG,KAAK,CAAC,MAAqB,CAAC;QACtC,IAAI,GAAG,CAAC,IAAI;YAAE,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;KAClC;AACF,CAAC;AACD,MAAM,8BAA8B,QAAgB,EAAE,eAA+B;IAA/B,gCAAA,EAAA,sBAA+B;IAEpF,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;IAChC,OAAO,IAAI,CAAC,IAAI,CAAC,kBAAkB,EAAE;QACpC,MAAM,EAAE,UAAC,SAAoB;YAE5B,IAAI,SAAS,CAAC,aAAa,IAAI,eAAe,EAC9C;gBACC,IAAI,OAAO,GAAG,SAA2B,CAAC;gBAC1C,CAAC,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,GAAG,OAAO,CAAA;gBAChC,OAAO,eAAe,CAAC,CAAC,CAAC,OAAO,CAAC,QAAQ,KAAK,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC;aAC1D;YACD,OAAO,KAAK,CAAC;QACd,CAAC;KACD,CAAC,CAAC;AACJ,CAAC;AACD,MAAM,yBAAyB,QAAgB;IAE9C,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,cAAc,EAAE;QAChD,MAAM,EAAE,UAAC,KAAY;YAEpB,OAAQ,KAAK,CAAC,MAAsB,CAAC,IAAI,CAAC;QAC3C,CAAC;KACD,CAAC,CAAC;AACJ,CAAC;AACD,MAAM,0BAA0B,QAAgB;IAE/C,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;IAChC,OAAO,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE;QACjC,MAAM,EAAE,UAAC,SAAS;YAEjB,OAAO,CAAC,SAAS,CAAC,aAAa,IAAI,mBAAmB,IAAI,SAAS,CAAC,aAAa,IAAI,eAAe,CAAC;gBACpG,SAAS,CAAC,MAAM,GAAG,SAAS,CAAC,cAAc,CAAC;QAC9C,CAAC;KACD,CAAC,CAAC;AACJ,CAAC;AACD,MAAM,wBAAwB,GAAqB;IAElD,QAAQ,GAAG,EACX;QACC,KAAK,gBAAgB,CAAC,WAAW,CAAC,CAAC,OAAO,iCAAiC,CAAC;QAC5E,KAAK,gBAAgB,CAAC,iBAAiB,CAAC,CAAC,OAAO,wBAAwB,CAAC;QACzE,KAAK,gBAAgB,CAAC,YAAY,CAAC,CAAC,OAAO,wBAAwB,CAAC;QACpE,KAAK,gBAAgB,CAAC,eAAe,CAAC,CAAC,OAAO,sBAAsB,CAAC;QACrE,KAAK,gBAAgB,CAAC,gBAAgB,CAAC,CAAC,OAAO,wCAAwC,CAAC;QACxF,KAAK,gBAAgB,CAAC,gBAAgB,CAAC,CAAC,OAAO,mCAAmC,CAAC;QACnF,OAAO,CAAC,CAAC,OAAO,eAAe,CAAC;KAChC;AACF,CAAC"}}
